<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- 微信关键meta声明 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="x5-fullscreen" content="true">
    <meta name="full-screen" content="yes">
    <title>第六次测试</title>
    <style>
        /* 全局重置 */
        * {
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        /* 安全区域适配 */
        body {
            background: #000;
            width: 100vw;
            height: 100vh;
            padding: env(safe-area-inset-top) env(safe-area-inset-right)
                     env(safe-area-inset-bottom) env(safe-area-inset-left);
            position: relative;
            overflow: hidden;
        }

        /* 导航按钮容器 */
        .nav-buttons {
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 1000;
            display: flex;
            gap: 12px;
            flex-direction: column;
        }

        /* 微信专用按钮样式 */
        .wechat-btn {
            padding: 10px 20px;
            background: rgba(0, 255, 157, 0.15);
            border: 1px solid #00ff9d;
            border-radius: 25px;
            color: #00ff9d;
            text-decoration: none;
            font-size: 14px;
            text-align: center;
            backdrop-filter: blur(5px);
            transition: all 0.3s;
        }

        .wechat-btn:active {
            background: rgba(0, 255, 157, 0.3);
            transform: scale(0.95);
        }

        /* X5视频容器 */
        .x5-video-wrapper {
            width: 100%;
            height: 100vh;
            object-fit: contain;
            -webkit-object-fit: contain;
        }

        /* 横屏优化 */
        @media (orientation: landscape) {
            .nav-buttons {
                flex-direction: row;
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- 导航按钮 -->
    <div class="nav-buttons">
        <a href="https://www.qfnu.edu.cn/" 
           class="wechat-btn"
           target="_blank"
           rel="noopener noreferrer">
            曲师大官网
        </a>
        <a href="https://math.qfnu.edu.cn/" 
           class="wechat-btn"
           target="_blank"
           rel="noopener noreferrer">
            数学科学学院
        </a>
    </div>

    <!-- X5视频播放器 -->
    <video 
        id="x5Video"
        class="x5-video-wrapper"
        controls
        playsinline
        webkit-playsinline
        x5-video-player-type="h5"
        x5-video-orientation="portrait"
        x5-video-player-fullscreen="true"
        x-webkit-airplay="allow"
        preload="none"
        poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
    >
        <source src="shipin.mp4" 
                type="video/mp4">
        <p style="color:white;">您的设备不支持视频播放</p>
    </video>

    <!-- 微信专用交互脚本 -->
    <script>
        // 环境检测
        const isWeChat = /MicroMessenger/i.test(navigator.userAgent)
        const isX5 = /TBS|MQQBrowser/i.test(navigator.userAgent)

        if (isWeChat || isX5) {
            const video = document.getElementById('x5Video')
            
            // 必须用户点击后初始化
            const initVideo = () => {
                video.load()
                video.play().catch(e => console.log('自动播放已阻止，需要用户交互'))
                document.removeEventListener('click', initVideo)
                document.removeEventListener('touchstart', initVideo)
            }

            // 双保险触发
            document.addEventListener('click', initVideo)
            document.addEventListener('touchstart', initVideo)

            // 横竖屏切换适配
            window.addEventListener('orientationchange', () => {
                video.style.width = window.innerWidth + 'px'
                video.style.height = window.innerHeight + 'px'
                setTimeout(() => video.play(), 300)
            })
        }
    </script>
</body>
</html>
